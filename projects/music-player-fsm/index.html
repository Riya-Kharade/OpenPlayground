<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Music Player FSM</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Montserrat', 'Segoe UI', system-ui, sans-serif;
        }
        body {
            background: linear-gradient(145deg, #121212 0%, #1e1e2e 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .music-card {
            background: #2a2a3a;
            background: linear-gradient(145deg, #2c2c3a, #1a1a28);
            border-radius: 3rem;
            padding: 2.5rem 2rem;
            box-shadow: 0 40px 60px #000000cc, inset 0 2px 20px #8a6eff;
            border: 4px solid #9f7aff;
            max-width: 1100px;
            width: 100%;
        }
        h1 {
            text-align: center;
            margin: 0 0 1.5rem 0;
            font-size: 2.8rem;
            font-weight: 700;
            color: #c8b3ff;
            text-shadow: 0 5px 0 #4a2a8c, 0 10px 20px black;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        h1 span {
            font-size: 3rem;
            filter: drop-shadow(0 4px 2px #2a1a4a);
        }
        .player-layout {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
        }
        /* Now playing panel */
        .now-playing-panel {
            background: #1e1e2c;
            border-radius: 2.5rem;
            padding: 2rem;
            box-shadow: inset 0 -5px 10px #0a0a14, 0 25px 35px black;
            border: 3px solid #b29aff;
            flex: 1;
            min-width: 300px;
        }
        .album-art {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, #845ec2, #b65ec2);
            border-radius: 2rem;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            box-shadow: 0 20px 30px black;
            border: 4px solid #c49eff;
            animation: none;
        }
        .album-art.playing {
            animation: spin 4s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .track-info {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        .track-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: #e6d0ff;
            text-shadow: 0 2px 0 #5a3a9a;
        }
        .artist-name {
            font-size: 1.1rem;
            color: #b09aff;
            margin-top: 0.3rem;
        }
        .time-info {
            display: flex;
            justify-content: space-between;
            color: #aaa5ff;
            font-size: 0.9rem;
            margin: 1rem 0;
        }
        .progress-bar {
            background: #3a3a50;
            height: 10px;
            border-radius: 10px;
            margin: 0.5rem 0;
            overflow: hidden;
            border: 1px solid #8f7aff;
        }
        .progress-fill {
            height: 100%;
            width: 45%;
            background: linear-gradient(90deg, #9f7aff, #c49eff);
            transition: width 0.1s;
        }
        .playback-controls {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .control-icon {
            font-size: 2.5rem;
            cursor: pointer;
            filter: drop-shadow(0 4px 4px black);
            transition: 0.1s;
            opacity: 0.8;
        }
        .control-icon:hover {
            transform: scale(1.1);
            opacity: 1;
        }
        .control-icon:active {
            transform: scale(0.95);
        }
        .playlist-panel {
            background: #24243a;
            border-radius: 2.5rem;
            padding: 1.5rem;
            border: 3px solid #9f7aff;
            flex: 1;
            min-width: 280px;
        }
        .playlist-header {
            display: flex;
            justify-content: space-between;
            color: #c8b3ff;
            font-weight: 600;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #6a4a9a;
        }
        .playlist-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem;
            border-radius: 1.5rem;
            margin-bottom: 0.5rem;
            background: #2a2a42;
            cursor: pointer;
            transition: 0.1s;
            border: 2px solid transparent;
        }
        .playlist-item:hover {
            background: #3a3a5a;
            border-color: #b29aff;
        }
        .playlist-item.active {
            background: #4a3a6a;
            border-color: #e6b3ff;
            box-shadow: 0 0 20px #9f7aff;
        }
        .playlist-item .track-num {
            color: #b09aff;
            font-weight: 600;
        }
        .playlist-item .track-title {
            flex: 1;
            color: #e0d0ff;
        }
        .playlist-item .track-duration {
            color: #8a7ac0;
        }
        .state-indicator {
            background: #1a1a2e;
            border-radius: 2rem;
            padding: 1rem;
            margin-top: 1.5rem;
            border: 2px solid #b29aff;
            text-align: center;
        }
        .state-label {
            color: #c8b3ff;
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        .state-value {
            font-size: 2rem;
            font-weight: 700;
            color: #ffd966;
            text-shadow: 0 2px 0 #8b5800;
        }
        .mode-badge {
            display: inline-block;
            background: #3a2a5a;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            color: #e0b3ff;
            font-size: 0.8rem;
            margin: 0.5rem;
            border: 2px solid #9f7aff;
        }
        .control-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8rem;
            margin: 1rem 0;
        }
        .player-btn {
            background: #3a3a5a;
            border: none;
            border-radius: 2rem;
            padding: 0.8rem;
            font-family: inherit;
            font-weight: 600;
            color: #d0c0ff;
            box-shadow: 0 4px 0 #1a1a2a, 0 5px 10px black;
            cursor: pointer;
            transition: 0.05s linear;
            border: 2px solid #9f7aff;
        }
        .player-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #1a1a2a, 0 5px 10px black;
        }
        .player-btn:disabled {
            opacity: 0.3;
            transform: translateY(2px);
            box-shadow: 0 2px 0 #1a1a2a;
            pointer-events: none;
        }
        .player-btn.shuffle {
            background: #5a4a8a;
        }
        .player-btn.repeat {
            background: #6a4a6a;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            color: #b8a2ff;
            background: #1a1a2eb0;
            padding: 0.8rem;
            border-radius: 3rem;
        }
    </style>
</head>
<body>
    <div class="music-card">
        <h1>
            <span>üéµ</span> MUSIC PLAYER FSM <span>üéß</span>
        </h1>
        
        <div class="player-layout">
            <!-- Now playing -->
            <div class="now-playing-panel">
                <div class="album-art" id="albumArt">üíø</div>
                
                <div class="track-info">
                    <div class="track-name" id="nowPlayingTrack">Bohemian Rhapsody</div>
                    <div class="artist-name" id="nowPlayingArtist">Queen</div>
                </div>
                
                <div class="time-info">
                    <span id="currentTime">1:23</span>
                    <span id="totalTime">5:55</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 25%"></div>
                </div>
                
                <div class="playback-controls">
                    <span class="control-icon" id="prevBtn">‚èÆÔ∏è</span>
                    <span class="control-icon" id="playPauseBtn">‚è∏Ô∏è</span>
                    <span class="control-icon" id="nextBtn">‚è≠Ô∏è</span>
                    <span class="control-icon" id="stopBtn">‚èπÔ∏è</span>
                </div>
                
                <div class="state-indicator">
                    <div class="state-label">player state</div>
                    <div class="state-value" id="playerState">PLAYING</div>
                </div>
            </div>
            
            <!-- Playlist and controls -->
            <div class="playlist-panel">
                <div class="playlist-header">
                    <span>üéµ PLAYLIST</span>
                    <span id="modeIndicator">‚ñ∂ NORMAL</span>
                </div>
                
                <div class="playlist-item active" data-index="0" id="track1">
                    <span class="track-num">01</span>
                    <span class="track-title">Bohemian Rhapsody</span>
                    <span class="track-duration">5:55</span>
                </div>
                <div class="playlist-item" data-index="1" id="track2">
                    <span class="track-num">02</span>
                    <span class="track-title">Stairway to Heaven</span>
                    <span class="track-duration">8:02</span>
                </div>
                <div class="playlist-item" data-index="2" id="track3">
                    <span class="track-num">03</span>
                    <span class="track-title">Hotel California</span>
                    <span class="track-duration">6:30</span>
                </div>
                <div class="playlist-item" data-index="3" id="track4">
                    <span class="track-num">04</span>
                    <span class="track-title">Imagine</span>
                    <span class="track-duration">3:04</span>
                </div>
                <div class="playlist-item" data-index="4" id="track5">
                    <span class="track-num">05</span>
                    <span class="track-title">Smells Like Teen Spirit</span>
                    <span class="track-duration">5:01</span>
                </div>
                
                <div class="mode-badge" id="repeatMode">üîÅ REPEAT: OFF</div>
                <div class="mode-badge" id="shuffleMode">üîÄ SHUFFLE: OFF</div>
                
                <div class="control-grid">
                    <button class="player-btn" id="btnPlay">‚ñ∂ PLAY</button>
                    <button class="player-btn" id="btnPause">‚è∏Ô∏è PAUSE</button>
                    <button class="player-btn" id="btnStop">‚èπÔ∏è STOP</button>
                    <button class="player-btn" id="btnNext">‚è≠Ô∏è NEXT</button>
                    <button class="player-btn" id="btnPrev">‚èÆÔ∏è PREV</button>
                    <button class="player-btn shuffle" id="btnShuffle">üîÄ SHUFFLE</button>
                    <button class="player-btn repeat" id="btnRepeat">üîÅ REPEAT</button>
                    <button class="player-btn" id="btnReset">üîÑ RESET</button>
                </div>
                
                <div style="margin-top:1rem; background:#1a1a2e; padding:0.8rem; border-radius:1.5rem; color:#b09aff; font-size:0.8rem;">
                    <strong>FSM:</strong> STOPPED ‚Üí PLAYING ‚Üí PAUSED ‚Üí PLAYING ... track ends ‚Üí NEXT/STOP
                </div>
            </div>
        </div>
        
        <div class="legend">
            <span>‚èπÔ∏è STOPPED</span>
            <span>‚ñ∂Ô∏è PLAYING</span>
            <span>‚è∏Ô∏è PAUSED</span>
            <span>üîÅ REPEAT modes</span>
            <span>üîÄ SHUFFLE</span>
        </div>
    </div>

    <script>
        (function() {
            // ---------- MUSIC PLAYER FSM ----------
            const MusicFSM = {
                states: {
                    STOPPED: 'STOPPED',
                    PLAYING: 'PLAYING',
                    PAUSED: 'PAUSED'
                },
                
                current: 'STOPPED',
                
                // Playlist data
                playlist: [
                    { title: 'Bohemian Rhapsody', artist: 'Queen', duration: 355 }, // 5:55
                    { title: 'Stairway to Heaven', artist: 'Led Zeppelin', duration: 482 }, // 8:02
                    { title: 'Hotel California', artist: 'Eagles', duration: 390 }, // 6:30
                    { title: 'Imagine', artist: 'John Lennon', duration: 184 }, // 3:04
                    { title: 'Smells Like Teen Spirit', artist: 'Nirvana', duration: 301 } // 5:01
                ],
                
                currentTrackIndex: 0,
                currentTime: 0, // seconds
                
                // Playback modes
                repeatMode: 'none', // 'none', 'one', 'all'
                shuffleMode: false,
                shuffleOrder: [], // shuffled indices
                
                // Timer for playback simulation
                timer: null,
                
                // Transition table
                transitions: {
                    'STOPPED_PLAY': 'PLAYING',
                    'STOPPED_NEXT': 'STOPPED',   // stays stopped, changes track
                    'STOPPED_PREV': 'STOPPED',
                    'STOPPED_STOP': 'STOPPED',    // already stopped
                    
                    'PLAYING_PAUSE': 'PAUSED',
                    'PLAYING_STOP': 'STOPPED',
                    'PLAYING_NEXT': 'PLAYING',     // changes track, stays playing
                    'PLAYING_PREV': 'PLAYING',
                    'PLAYING_TRACK_END': 'PLAYING', // handles next track, might stop if end
                    
                    'PAUSED_PLAY': 'PLAYING',
                    'PAUSED_STOP': 'STOPPED',
                    'PAUSED_NEXT': 'PAUSED',       // change track while paused
                    'PAUSED_PREV': 'PAUSED'
                },
                
                dispatch(event, data = null) {
                    const from = this.current;
                    const key = `${from}_${event}`;
                    
                    if (this.transitions.hasOwnProperty(key)) {
                        return this.transitions[key];
                    }
                    return from;
                },
                
                send(event, data = null) {
                    const before = this.current;
                    const after = this.dispatch(event, data);
                    const changed = before !== after;
                    
                    this.current = after;
                    
                    return { changed, from: before, to: after };
                },
                
                // Playback control methods
                play() {
                    if (this.current === 'STOPPED' && this.playlist.length === 0) return;
                    
                    const result = this.send('PLAY');
                    
                    if (result.changed && this.current === 'PLAYING') {
                        this.startTimer();
                    }
                    
                    return result;
                },
                
                pause() {
                    const result = this.send('PAUSE');
                    
                    if (result.changed && this.current === 'PAUSED') {
                        this.stopTimer();
                    }
                    
                    return result;
                },
                
                stop() {
                    const result = this.send('STOP');
                    
                    if (result.changed) {
                        this.stopTimer();
                        this.currentTime = 0;
                    }
                    
                    return result;
                },
                
                next() {
                    const prevIndex = this.currentTrackIndex;
                    
                    if (this.shuffleMode) {
                        // Get next in shuffle order
                        const currentPos = this.shuffleOrder.indexOf(this.currentTrackIndex);
                        if (currentPos < this.shuffleOrder.length - 1) {
                            this.currentTrackIndex = this.shuffleOrder[currentPos + 1];
                        } else {
                            // End of shuffle order
                            if (this.repeatMode === 'all') {
                                // Restart shuffle
                                this.shuffleOrder = this.generateShuffleOrder();
                                this.currentTrackIndex = this.shuffleOrder[0];
                            } else {
                                // Stop at end
                                this.stop();
                                this.send('NEXT'); // update state
                                return;
                            }
                        }
                    } else {
                        // Normal next
                        if (this.currentTrackIndex < this.playlist.length - 1) {
                            this.currentTrackIndex++;
                        } else {
                            // End of playlist
                            if (this.repeatMode === 'all') {
                                this.currentTrackIndex = 0; // loop to start
                            } else {
                                this.stop();
                                this.send('NEXT');
                                return;
                            }
                        }
                    }
                    
                    this.currentTime = 0;
                    this.send('NEXT');
                    
                    // If we were playing, continue playing new track
                    if (this.current === 'PLAYING') {
                        this.startTimer();
                    }
                },
                
                prev() {
                    if (this.currentTime > 3) {
                        // If more than 3 seconds into track, restart track
                        this.currentTime = 0;
                    } else {
                        // Go to previous track
                        if (this.shuffleMode) {
                            const currentPos = this.shuffleOrder.indexOf(this.currentTrackIndex);
                            if (currentPos > 0) {
                                this.currentTrackIndex = this.shuffleOrder[currentPos - 1];
                            } else {
                                // At start of shuffle
                                if (this.repeatMode === 'all') {
                                    this.currentTrackIndex = this.shuffleOrder[this.shuffleOrder.length - 1];
                                } else {
                                    // Stay on current
                                    this.currentTime = 0;
                                }
                            }
                        } else {
                            if (this.currentTrackIndex > 0) {
                                this.currentTrackIndex--;
                            } else {
                                // At first track
                                if (this.repeatMode === 'all') {
                                    this.currentTrackIndex = this.playlist.length - 1;
                                } else {
                                    this.currentTime = 0;
                                }
                            }
                        }
                    }
                    
                    this.currentTime = 0;
                    this.send('PREV');
                    
                    if (this.current === 'PLAYING') {
                        this.startTimer();
                    }
                },
                
                // Timer for playback simulation
                startTimer() {
                    if (this.timer) clearInterval(this.timer);
                    
                    this.timer = setInterval(() => {
                        if (this.current !== 'PLAYING') return;
                        
                        this.currentTime += 0.1;
                        
                        // Check if track ended
                        const currentTrack = this.playlist[this.currentTrackIndex];
                        if (this.currentTime >= currentTrack.duration) {
                            this.trackEnded();
                        }
                        
                        updateUI();
                    }, 100);
                },
                
                stopTimer() {
                    if (this.timer) {
                        clearInterval(this.timer);
                        this.timer = null;
                    }
                },
                
                trackEnded() {
                    if (this.repeatMode === 'one') {
                        // Repeat current track
                        this.currentTime = 0;
                        this.send('TRACK_END');
                    } else {
                        // Go to next track
                        this.next();
                    }
                    updateUI();
                },
                
                // Shuffle functions
                generateShuffleOrder() {
                    const indices = Array.from({ length: this.playlist.length }, (_, i) => i);
                    for (let i = indices.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [indices[i], indices[j]] = [indices[j], indices[i]];
                    }
                    return indices;
                },
                
                toggleShuffle() {
                    this.shuffleMode = !this.shuffleMode;
                    
                    if (this.shuffleMode) {
                        this.shuffleOrder = this.generateShuffleOrder();
                        // Ensure current track is in shuffle order
                        if (!this.shuffleOrder.includes(this.currentTrackIndex)) {
                            this.shuffleOrder.unshift(this.currentTrackIndex);
                        }
                    }
                },
                
                toggleRepeat() {
                    const modes = ['none', 'one', 'all'];
                    const currentIndex = modes.indexOf(this.repeatMode);
                    this.repeatMode = modes[(currentIndex + 1) % modes.length];
                },
                
                selectTrack(index) {
                    if (index >= 0 && index < this.playlist.length) {
                        this.currentTrackIndex = index;
                        this.currentTime = 0;
                        
                        // If playing, continue playing new track
                        if (this.current === 'PLAYING') {
                            this.startTimer();
                        }
                    }
                },
                
                formatTime(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                }
            };

            // ---------- DOM Elements ----------
            const albumArt = document.getElementById('albumArt');
            const nowPlayingTrack = document.getElementById('nowPlayingTrack');
            const nowPlayingArtist = document.getElementById('nowPlayingArtist');
            const currentTimeSpan = document.getElementById('currentTime');
            const totalTimeSpan = document.getElementById('totalTime');
            const progressFill = document.getElementById('progressFill');
            const playerState = document.getElementById('playerState');
            const modeIndicator = document.getElementById('modeIndicator');
            const repeatMode = document.getElementById('repeatMode');
            const shuffleMode = document.getElementById('shuffleMode');
            
            // Playlist items
            const track1 = document.getElementById('track1');
            const track2 = document.getElementById('track2');
            const track3 = document.getElementById('track3');
            const track4 = document.getElementById('track4');
            const track5 = document.getElementById('track5');
            const playlistItems = [track1, track2, track3, track4, track5];
            
            // Control buttons
            const playPauseBtn = document.getElementById('playPauseBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const stopBtn = document.getElementById('stopBtn');
            
            const btnPlay = document.getElementById('btnPlay');
            const btnPause = document.getElementById('btnPause');
            const btnStop = document.getElementById('btnStop');
            const btnNext = document.getElementById('btnNext');
            const btnPrev = document.getElementById('btnPrev');
            const btnShuffle = document.getElementById('btnShuffle');
            const btnRepeat = document.getElementById('btnRepeat');
            const btnReset = document.getElementById('btnReset');

            // Update UI
            function updateUI() {
                const state = MusicFSM.current;
                const track = MusicFSM.playlist[MusicFSM.currentTrackIndex];
                const currentTime = MusicFSM.currentTime;
                const totalTime = track.duration;
                
                // Update now playing info
                nowPlayingTrack.innerText = track.title;
                nowPlayingArtist.innerText = track.artist;
                currentTimeSpan.innerText = MusicFSM.formatTime(currentTime);
                totalTimeSpan.innerText = MusicFSM.formatTime(totalTime);
                
                // Update progress bar
                const progressPercent = (currentTime / totalTime) * 100;
                progressFill.style.width = progressPercent + '%';
                
                // Update state
                playerState.innerText = state;
                
                // Update play/pause icon
                playPauseBtn.innerText = state === 'PLAYING' ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
                
                // Update mode indicators
                modeIndicator.innerText = state;
                repeatMode.innerText = `üîÅ REPEAT: ${MusicFSM.repeatMode.toUpperCase()}`;
                shuffleMode.innerText = `üîÄ SHUFFLE: ${MusicFSM.shuffleMode ? 'ON' : 'OFF'}`;
                
                // Update album art animation
                if (state === 'PLAYING') {
                    albumArt.classList.add('playing');
                } else {
                    albumArt.classList.remove('playing');
                }
                
                // Update playlist active item
                playlistItems.forEach((item, index) => {
                    if (index === MusicFSM.currentTrackIndex) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
                
                // Update button states
                updateButtons();
            }
            
            function updateButtons() {
                const state = MusicFSM.current;
                
                // Basic control buttons are always enabled
                // But we might disable based on playlist length etc.
                const hasTracks = MusicFSM.playlist.length > 0;
                
                // No buttons are truly disabled, but we'll keep them all enabled
                // for maximum interaction
            }
            
            // Event handlers
            function handlePlay() {
                MusicFSM.play();
                updateUI();
            }
            
            function handlePause() {
                MusicFSM.pause();
                updateUI();
            }
            
            function handleStop() {
                MusicFSM.stop();
                updateUI();
            }
            
            function handleNext() {
                MusicFSM.next();
                updateUI();
            }
            
            function handlePrev() {
                MusicFSM.prev();
                updateUI();
            }
            
            function handlePlayPause() {
                if (MusicFSM.current === 'PLAYING') {
                    handlePause();
                } else {
                    handlePlay();
                }
            }
            
            function handleShuffle() {
                MusicFSM.toggleShuffle();
                updateUI();
            }
            
            function handleRepeat() {
                MusicFSM.toggleRepeat();
                updateUI();
            }
            
            function handleReset() {
                MusicFSM.stop();
                MusicFSM.currentTrackIndex = 0;
                MusicFSM.currentTime = 0;
                MusicFSM.repeatMode = 'none';
                MusicFSM.shuffleMode = false;
                MusicFSM.shuffleOrder = [];
                updateUI();
            }
            
            function handleTrackSelect(index) {
                return function() {
                    MusicFSM.selectTrack(index);
                    updateUI();
                };
            }
            
            // Initialize
            function init() {
                MusicFSM.current = 'STOPPED';
                MusicFSM.currentTrackIndex = 0;
                MusicFSM.currentTime = 0;
                updateUI();
                
                // Button listeners
                playPauseBtn.addEventListener('click', handlePlayPause);
                prevBtn.addEventListener('click', handlePrev);
                nextBtn.addEventListener('click', handleNext);
                stopBtn.addEventListener('click', handleStop);
                
                btnPlay.addEventListener('click', handlePlay);
                btnPause.addEventListener('click', handlePause);
                btnStop.addEventListener('click', handleStop);
                btnNext.addEventListener('click', handleNext);
                btnPrev.addEventListener('click', handlePrev);
                btnShuffle.addEventListener('click', handleShuffle);
                btnRepeat.addEventListener('click', handleRepeat);
                btnReset.addEventListener('click', handleReset);
                
                // Playlist listeners
                track1.addEventListener('click', handleTrackSelect(0));
                track2.addEventListener('click', handleTrackSelect(1));
                track3.addEventListener('click', handleTrackSelect(2));
                track4.addEventListener('click', handleTrackSelect(3));
                track5.addEventListener('click', handleTrackSelect(4));
            }
            
            init();
        })();
    </script>
</body>
</html>